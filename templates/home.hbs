<div data-lang-scope>
    <div class="home-layout">
        <div class="home-left-column">
            <section class="latest-posts">
                <h2 class="section-title"><a href="/posts/">Blog</a></h2>
                <div class="post-list">
                    {{#each posts}}
                    {{#if (eq metadata.lang "en")}}
                    <article class="post-card" data-post-lang="{{metadata.lang}}">
                        <h3 class="post-card-title"><a href="/{{path}}">{{title}}</a></h3>
                        <time class="post-date">{{formatDate date "MMM d, yyyy"}}</time>
                    </article>
                    {{/if}}
                    {{/each}}
                </div>
            </section>

            <section class="ideas">
                <h2 class="section-title"><a href="/garage/">Garage</a></h2>
                <div class="garage-columns-home">
                    {{#with datasource}}
                    <!-- Sketch Column -->
                    <div class="garage-column-home">
                        <h3 class="garage-column-title">Sketch</h3>
                        <div class="garage-logos-grid">
                            {{#each entities.garage}}
                                {{#if (eq metadata.status "idea")}}
                                <div class="garage-logo-item">
                                    <a href="{{source.path}}" class="garage-logo-link">
                                        {{#if metadata.logo}}
                                        <img src="{{metadata.logo}}" class="garage-logo" alt="{{title}}" />
                                        {{else}}
                                            {{#if metadata.image}}
                                            <img src="{{metadata.image}}" class="garage-logo" alt="{{title}}" />
                                            {{else}}
                                            <span class="garage-logo-name">{{title}}</span>
                                            {{/if}}
                                        {{/if}}
                                    </a>
                                    <div class="garage-logo-tooltip">
                                        <div class="garage-tooltip-content">
                                            <h4 class="garage-tooltip-title">{{title}}</h4>
                                            {{#if metadata.summary}}
                                            <p class="garage-tooltip-summary">{{metadata.summary}}</p>
                                            {{/if}}
                                            {{#if metadata.tags}}
                                            <div class="garage-tooltip-tags">
                                                <span class="tag">{{metadata.tags}}</span>
                                            </div>
                                            {{/if}}
                                        </div>
                                    </div>
                                </div>
                                {{/if}}
                            {{/each}}
                        </div>
                    </div>
                    
                    <!-- Active Column -->
                    <div class="garage-column-home">
                        <h3 class="garage-column-title">On the desk</h3>
                        <div class="garage-logos-grid">
                            {{#each entities.garage}}
                                {{#if (eq metadata.status "active")}}
                                <div class="garage-logo-item">
                                    <a href="{{source.path}}" class="garage-logo-link">
                                        {{#if metadata.logo}}
                                        <img src="{{metadata.logo}}" class="garage-logo" alt="{{title}}" />
                                        {{else}}
                                            {{#if metadata.image}}
                                            <img src="{{metadata.image}}" class="garage-logo" alt="{{title}}" />
                                            {{else}}
                                            <span class="garage-logo-name">{{title}}</span>
                                            {{/if}}
                                        {{/if}}
                                    </a>
                                    <div class="garage-logo-tooltip">
                                        <div class="garage-tooltip-content">
                                            <h4 class="garage-tooltip-title">{{title}}</h4>
                                            {{#if metadata.summary}}
                                            <p class="garage-tooltip-summary">{{metadata.summary}}</p>
                                            {{/if}}
                                            {{#if metadata.tags}}
                                            <div class="garage-tooltip-tags">
                                                <span class="tag">{{metadata.tags}}</span>
                                            </div>
                                            {{/if}}
                                        </div>
                                    </div>
                                </div>
                                {{/if}}
                            {{/each}}
                        </div>
                    </div>
                    
                    <!-- Archived Column -->
                    <div class="garage-column-home">
                        <h3 class="garage-column-title">On the wall</h3>
                        <div class="garage-logos-grid">
                            {{#each entities.garage}}
                                {{#if (eq metadata.status "archived")}}
                                <div class="garage-logo-item">
                                    <a href="{{source.path}}" class="garage-logo-link">
                                        {{#if metadata.logo}}
                                        <img src="{{metadata.logo}}" class="garage-logo" alt="{{title}}" />
                                        {{else}}
                                            {{#if metadata.image}}
                                            <img src="{{metadata.image}}" class="garage-logo" alt="{{title}}" />
                                            {{else}}
                                            <span class="garage-logo-name">{{title}}</span>
                                            {{/if}}
                                        {{/if}}
                                    </a>
                                    <div class="garage-logo-tooltip">
                                        <div class="garage-tooltip-content">
                                            <h4 class="garage-tooltip-title">{{title}}</h4>
                                            {{#if metadata.summary}}
                                            <p class="garage-tooltip-summary">{{metadata.summary}}</p>
                                            {{/if}}
                                            {{#if metadata.tags}}
                                            <div class="garage-tooltip-tags">
                                                <span class="tag">{{metadata.tags}}</span>
                                            </div>
                                            {{/if}}
                                        </div>
                                    </div>
                                </div>
                                {{/if}}
                            {{/each}}
                        </div>
                    </div>
                    {{/with}}
                </div>
            </section>
        </div>
    </div>
</div>
{{#content "right-column"}}
    <div class="home-right-column">
        <nav class="home-menu">
            <a href="/posts">Blog</a>
            <a href="/garage">Garage</a>
            <a href="/about">About</a>
        </nav>
        <section class="random-image-section">
            <div id="random-image" class="skeleton" aria-busy="true">
                <div class="image-source"></div>
            </div>
        </section>

        <section class="random-quote-section">
            <div id="random-quote" class="skeleton" aria-busy="true">
                <div class="quote-text"></div>
                <div class="quote-author"></div>
                <div class="quote-source"></div>
            </div>
        </section>
    </div>
{{/content}}